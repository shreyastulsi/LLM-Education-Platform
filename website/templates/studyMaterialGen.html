{% extends "base.html" %}
{% block title %}Study Material Generator{% endblock %}
{% block content %}
<section class="space-y-6">
  <div class="flex items-center justify-between">
    <div>
      <p class="text-sm text-slate-500">Create MCQ, vocab, or free-response sets.</p>
      <h1 class="text-3xl font-bold text-midnight">Study Material Generator</h1>
    </div>
  </div>

  <div class="grid lg:grid-cols-3 gap-6">
    <div class="lg:col-span-1">
      <form action="/studyMaterialGen" method="post" class="space-y-4 rounded-2xl border border-slate-100 bg-white/90 p-5 shadow-sm">
        <label class="block text-sm font-semibold text-slate-700 mb-1">Question type</label>
        <select name="gen_type" id="gen_type" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-slate-700 focus:outline-none focus:ring-2 focus:ring-sky-400">
          <option value="1">Multiple Choice</option>
          <option value="2">Vocab / Short Answer</option>
          <option value="3">Free Response</option>
        </select>

        <label class="block text-sm font-semibold text-slate-700 mb-1">Number of questions</label>
        <input type="number" id="num_q" name="num_q" required min="1" max="50" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-slate-700 focus:outline-none focus:ring-2 focus:ring-sky-400">

        <label class="inline-flex items-center gap-2 text-sm text-slate-700">
          <input type="checkbox" id="show_answers" onclick="toggleAnswers()" class="rounded border-slate-300 text-sky-500 focus:ring-sky-400">
          Show answers
        </label>

        <button type="submit" class="w-full rounded-xl bg-sky-500 text-white font-semibold py-2.5 shadow-lg shadow-sky-200 hover:bg-sky-600 transition">Generate</button>
      </form>
    </div>

    <div class="lg:col-span-2 space-y-4">
      <div class="rounded-2xl border border-slate-100 bg-white/90 p-5 shadow-sm">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-lg font-semibold text-midnight">Questions</h2>
        </div>
        <pre class="whitespace-pre-wrap text-slate-700 text-sm leading-relaxed">{{ questions }}</pre>
      </div>

      <div id="answers_section" class="rounded-2xl border border-slate-100 bg-white/90 p-5 shadow-sm" style="display:none!important">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-lg font-semibold text-midnight">Answers</h2>
        </div>
        <pre class="whitespace-pre-wrap text-slate-700 text-sm leading-relaxed">{{ answers }}</pre>
      </div>
    </div>
  </div>
</section>

<script>
  function toggleAnswers() {
    const checkBox = document.getElementById("show_answers");
    const answers = document.getElementById("answers_section");
    answers.style.display = checkBox.checked ? "block" : "none";
  }
</script>
{% endblock %}
